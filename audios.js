// Arrays of audio file URLs for different modes
const hpAudioFiles = [
  "/audio/hp/ah-right-then-hmm-right-okay-gryffindor!.mp3",
  "/audio/hp/do-what-i-say!-trust-me.mp3",
  "/audio/hp/hermione!.mp3",
  "/audio/hp/jump!.mp3",
  "/audio/hp/kill-us-faster-oh-now-i-can-relax!.mp3",
  "/audio/hp/lucky-this-plant-thing's-here-really.mp3",
  "/audio/hp/slytherin!.mp3",
  "/audio/hp/you're-a-wizard-harry.mp3",
];

const hpAudioMusic = [
  "/audio/music/harry/01 - Prologue.mp3",
  "/audio/music/harry/02 - Harry's Wondrous World.mp3",
  "/audio/music/harry/03 - The Arrival Of Baby Harry.mp3",
  "/audio/music/harry/04 - Visit To The Zoo And Letters From Hogwarts.mp3",
  "/audio/music/harry/05 - Diagon Alley And The Gringotts Vault.mp3",
  "/audio/music/harry/06 - Platform Nine-and-three-quarters And The Journey To Hogwarts.mp3",
  "/audio/music/harry/07 - Entry Into The Great Hall And The Banquet.mp3",
  "/audio/music/harry/08 - Mr. Longbottom Flies.mp3",
  "/audio/music/harry/09 - Hogwarts Forever! And The Moving Stairs.mp3",
  "/audio/music/harry/10 - The Norwegian Ridgeback And A Change Of Season.mp3",
  "/audio/music/harry/11 - The Quidditch Match.mp3",
  "/audio/music/harry/12-ChristmasAtHogwarts.mp3",
  "/audio/music/harry/13-TheInvisiblityCloackAndTheLibraryScene.mp3",
  "/audio/music/harry/14-FluffysHarp.mp3",
  "/audio/music/harry/15-InTheDevilsSnareAndTheFlyingKeys.mp3",
  "/audio/music/harry/16-TheChessGame.mp3",
  "/audio/music/harry/17-TheFaceOfVoldemort.mp3",
  "/audio/music/harry/18-LeavingHogwarts.mp3",
  "/audio/music/harry/19-HedwigsTheme.mp3",
  "/audio/music/harry/dark-secrets-at-the-black-castle-163584.mp3",
  "/audio/music/harry/Harry Potter - Main Theme.mp3",
  "/audio/music/harry/slow-calm-dark-dark-ambient-halloween-walth-horror-and-creepy-116010.mp3",
  "/audio/music/harry/the-magic-tree-150606.mp3",
];

const dogAudioFiles = [
  "/audio/dog/dog_barking-6296.mp3",
  "/audio/dog/dog-barking-70772.mp3",
  "/audio/dog/dog-crying-for-a-hugwav-14912.mp3",
  "/audio/dog/dog-panting-6876.mp3",
  "/audio/dog/dog-toy-5987.mp3",
  "/audio/dog/howling-wolves-6965.mp3",
  "/audio/dog/mixkit-dog-barking-twice-1.mp3",
  "/audio/dog/small-dog-barking-102658.mp3",
  "/audio/dog/squeaky-toy-1-6059.mp3",
  "/audio/dog/whining-dog-6110.mp3",
  "/audio/dog/wolf-howl-6310.mp3",
];

const dogAudioMusic = [
  "/audio/music/dogs/childish-prank-21177.mp3",
  "/audio/music/dogs/happy-dog-154977.mp3",
  "/audio/music/dogs/mr-badger-164546.mp3",
  "/audio/music/dogs/sunshine-108600.mp3",
];

const movieAudioFiles = [
  "/audio/mv/a-balm-what-are-you-giving-him-a-balm-for-it-might-bite-him.mp3",
  "/audio/mv/amigo-that-s-the-one-answer-that-would-prove-you-re-all-right.mp3",
  "/audio/mv/are-you-with-us-yes-from-now-on-you-shall-be-called-brian-that-is-called-brian.mp3",
  "/audio/mv/but-i-don-t-know-about-zombies-doctor-just-what-is-a-zombie-a-ghost-a-living-dead-it-s-also-a-drink-yes-i-tried-one-once-but-there-wasn-t-anything-dead-about-it.mp3",
  "/audio/mv/for-800-years-have-i-trained-jedi.mp3",
  "/audio/mv/gee-you-all-act-as-though-you-re-glad-i-got-that-crack-on-my-head.mp3",
  "/audio/mv/hey-buzz-let's-show-the-guys-our-new-secret-best-friends-handshake.mp3",
  "/audio/mv/poor-little-guy-there-he-goes-without-a-friend-in-the-world-nobody-to-turn-to.mp3",
  "/audio/mv/stop-singing!-it's-no-wonder-you-don't-have-any-friends.mp3",
];

const movieAudioMusic = [
  "audio/music/movies/rockstar-trailer-109945.mp3",
  "audio/music/movies/slow-trap-18565.mp3",
  "audio/music/movies/the-epic-trailer-12955.mp3",
  "audio/music/movies/winning-elevation-111355.mp3",
];

const rickMAudioFiles = [
  "/audio/rm/a-moment-of-your-time.mp3",
  "/audio/rm/after-you-cried-and-crapped-your-pants.mp3",
  "/audio/rm/because-im-having-a-party-bitch.mp3",
  "/audio/rm/can-you-help-me-do-this-stupid-science-fair-project.mp3",
  "/audio/rm/damn.mp3",
  "/audio/rm/fuck-fuck-fuck.mp3",
  "/audio/rm/imagine-youre-a-sheet-yo.mp3",
  "/audio/rm/were-surrounded-by-monsters.mp3",
];

const rickMAudioMusic = [
  "audio/music/rick/Rick-and-Morty-Theme-Song.mp3",
  "audio/music/rick/space-120280.mp3",
  "audio/music/rick/space-chillout-14194.mp3",
];

const lionKingFiles = [
  "/audio/lk/(timon-and-pumbaa-screaming).mp3",
  "/audio/lk/aaaaggghhh!.mp3",
  "/audio/lk/aw-dad-can't-i-come-no-son.mp3",
  "/audio/lk/hey!-where-are-you-going-i'm-going-back!.mp3",
  "/audio/lk/i-think-it's-time-that-you-and-i-arranged-a-heart-to-heart.mp3",
  "/audio/lk/i-will-be-king!-stick-with-me-and-you'll-never-go-hungry-again.mp3",
  "/audio/lk/it-is-time.mp3",
  "/audio/lk/it's-you-got-to-put-your-past-behind-you.mp3",
  "/audio/lk/oh-gee-i-always-thought-they-were-balls-of-gas-burning-billions-of-miles-away.mp3",
  "/audio/lk/run-you-yellow-belly!.mp3",
  "/audio/lk/she's-going-to-eat-me!-huh.mp3",
  "/audio/lk/silence!.mp3",
  "/audio/lk/there-ain't-no-way-i'm-going-in-there-what-you-want-me-to-come-out-looking-like-you-cactus-butt.mp3",
  "/audio/lk/very-good-pouncing-pouncing-no-sire-you-can't-be-serious.mp3",
  "/audio/lk/what-do-you-want-me-to-do-dress-in-drag-and-do-the-hula.mp3",
  "/audio/lk/whoa!-jeez-why-do-i-always-have-to-save-your.mp3",
];

const lionKingMusic = [
  "audio/music/lion king/01 - Circle Of Life.mp3",
  "audio/music/lion king/01 - Circle of Lifeu.mp3",
  "audio/music/lion king/02 - I Just Can't Wait To Be King.mp3",
  "audio/music/lion king/02 - This Land.mp3",
  "audio/music/lion king/03 - Hoo Hah.mp3",
  "audio/music/lion king/04 - Hakuna Matata.mp3",
  "audio/music/lion king/04 - I Just Can't Wait To Be King.mp3",
  "audio/music/lion king/05 - Can You Feel The Love Tonight.mp3",
];

const aladdinFiles = [
  "/audio/al/abu!-abu-this-is-no-time-to-panic.mp3",
  "/audio/al/al-i-can't-help-you-i-work-for-senor-psychopath-now.mp3",
  "/audio/al/ali-ababwa!.mp3",
  "/audio/al/did-you-bring-me-here-and-all-of-sudden-you're-walking-out-on-me-i-don't-think-so-not-right-now.mp3",
  "/audio/al/face-it-jafar-you're-still-just-second-best.mp3",
  "/audio/al/first-give-me-the-lamp.mp3",
  "/audio/al/genie-i-wish-for-your-freedom.mp3",
  "/audio/al/giving-you-your-reward-your-eternal-reward.mp3",
  "/audio/al/know-this-only-one-may-enter-here-one-whose-worth-lies-far-within.mp3",
  "/audio/al/phenomenal-cosmic-powers.mp3",
  "/audio/al/tell-her-the-truth!.mp3",
  "/audio/al/the-ever-impressive-the-long-contained-the-often-imitated-but-never-duplicated-genie-of-the-lamp!.mp3",
  "/audio/al/who-disturbs-my-slumber.mp3",
  "/audio/al/yes-yes!-the-power-the-absolute-power!.mp3",
  "/audio/al/yes!-at-last!.mp3",
  "/audio/al/you're-gettin'-your-wishes-so-sit-down!.mp3",
];

const aladdinMusic = [
  "audio/music/aladdin/01 - Arabian Nights.mp3",
  "audio/music/aladdin/02 - Legend Of The Lamp.mp3",
  "audio/music/aladdin/04 - Street Urchins.mp3",
  "audio/music/aladdin/06 - Friend Like Me.mp3",
  "audio/music/aladdin/07 - To Be Free.mp3",
  "audio/music/aladdin/08 - Prince Ali.mp3",
  "audio/music/aladdin/09 - A Whole New World.mp3",
  "audio/music/aladdin/12 - The Ends Of The Earth.mp3",
  "audio/music/aladdin/13 - The Kiss.mp3",
  "audio/music/aladdin/14 - On A Dark Night.mp3",
  "audio/music/aladdin/15 - Jasmine Runs Away.mp3",
  "audio/music/aladdin/16 - Marketplace.mp3",
];

const jungleBookFiles = [
  "/audio/jb/(baloo-growls).mp3",
  "/audio/jb/(fruits-squashing).mp3",
  "/audio/jb/a-man-cub!.mp3",
  "/audio/jb/a-word-you-gonna-talk-some-more.mp3",
  "/audio/jb/bagheera!.mp3",
  "/audio/jb/bravo-bravo-an-extraordinary-performance.mp3",
  "/audio/jb/foolish-man-cub.mp3",
  "/audio/jb/gimme-room!-gangway!.mp3",
  "/audio/jb/he's-got-a-tiger-by-the-tail-he-has-and-he-better-hang-on-too.mp3",
  "/audio/jb/hey!-stop-that!.mp3",
  "/audio/jb/i-can't-sleep-so-i-sing-myself-to-sleep-you-know-self-hypnosis.mp3",
  "/audio/jb/i-say-what-happened-to-your-trunk.mp3",
  "/audio/jb/kaa!-hold-it-kaa!.mp3",
  "/audio/jb/mowgli-mowgli!.mp3",
  "/audio/jb/now-just-try-that-again-you.mp3",
  "/audio/jb/right-face!-forward-march!.mp3",
  "/audio/jb/sleep-sleep.mp3",
  "/audio/jb/take-me-home-daddy.mp3",
  "/audio/jb/that's-how-a-bear-can-rest-at-ease!-here's-some-bare-necessities!.mp3",
  "/audio/jb/this-is-treason!-sabotage!.mp3",
  "/audio/jb/wait!-listen-to-ol'-baloo!-mowgli!-mowgli-mowgli!.mp3",
  "/audio/jb/why-should-you-run-could-it-be-possible-that-you-don't-know-who-i-am.mp3",
];

const jungleBMusic = [
  "audio/music/jungle/01 - Bagheera's Introduction.mp3",
  "audio/music/jungle/02 - Trust In Me.mp3",
  "audio/music/jungle/03 - Mowgli In Kaa's Coils.mp3",
  "audio/music/jungle/04 - Colonel Hathi's Dawn Patrol March.mp3",
  "audio/music/jungle/05 - Hathi's Inspection.mp3",
  "audio/music/jungle/06 - Mowgli On His Own.mp3",
  "audio/music/jungle/07 - Baloo The Bear.mp3",
  "audio/music/jungle/08 - The Bare Necessities.mp3",
  "audio/music/jungle/09 - King Louis.mp3",
  "audio/music/jungle/10 - I Wan'na Be Like You.mp3",
  "audio/music/jungle/11 - A Swinging Party.mp3",
  "audio/music/jungle/12 - What's Best For Mowgli.mp3",
  "audio/music/jungle/13 - Colonel Hathi's Elephant Patrol.mp3",
  "audio/music/jungle/14 - '''The Man-Cub Must Be Found!''.mp3",
  "audio/music/jungle/15 - Shere Khan Overhears.mp3",
  "audio/music/jungle/16 - Four Vultures.mp3",
  "audio/music/jungle/17 - That's What Friends Are For.mp3",
  "audio/music/jungle/18 - Shere Khan & Baloo Battle.mp3",
  "audio/music/jungle/19 - Baloo's Sacrifice.mp3",
  "audio/music/jungle/20 - Distant Singing.mp3",
  "audio/music/jungle/21 - My Own Home.mp3",
  "audio/music/jungle/22 - Back Where We Belong.mp3",
  "audio/music/jungle/23 - The Bare Necessities.mp3",
];

const aliceInFiles = [
  "/audio/alice/(birds-shrieks).mp3",
  "/audio/alice/(chuckles).mp3",
  "/audio/alice/(giggles)-(2).mp3",
  "/audio/alice/(muffled-speech).mp3",
  "/audio/alice/beg-your-pardon.mp3",
  "/audio/alice/come-come-now-crying-won't-help.mp3",
  "/audio/alice/good-luck-bill.mp3",
  "/audio/alice/hey-this-won't-do-oh-oh-oh-this-won't-do-at-all.mp3",
  "/audio/alice/hm-i'm-listening.mp3",
  "/audio/alice/i-don't-think-it's-so-funny.mp3",
  "/audio/alice/i-forgot-to-tell-you-i'm-locked.mp3",
  "/audio/alice/i-know-but-i-i-i-just-can't-seem-to-stop.mp3",
  "/audio/alice/i-said-a-little-of-that-went-a-long-way.mp3",
  "/audio/alice/i-warn-you-child-if-i-lose-my-temper-you-lose-your-head-understand.mp3",
  "/audio/alice/i'm-late-i'm-late-for-a-very-important-date-no-time-to-say-hello-goodbye-i'm-late-late-late.mp3",
  "/audio/alice/i'm-looking-for-a-white-rabbit.mp3",
  "/audio/alice/i'm-tired-of-being-only-three-inches-high.mp3",
  "/audio/alice/look-the-bottle-the-bottle-!.mp3",
  "/audio/alice/mr-rabbit-wait!.mp3",
  "/audio/alice/no-no-use.mp3",
  "/audio/alice/now-i-shall-never-get-out.mp3",
  "/audio/alice/off-with-her-head!.mp3",
  "/audio/alice/oh-dear-i-do-wish-i-hadn't-cried-so-much.mp3",
  "/audio/alice/oh-no.mp3",
  "/audio/alice/well-(coughs)-if-you-ask-me.mp3",
  "/audio/alice/you-almost-went-out-like-a-candle.mp3",
  "/audio/alice/you-see-i-was-following.mp3",
  "/audio/alice/you-up-there-stop!-i-say.mp3",
];

const aliceInMusic = [
  "audio/music/alice/01 - ALICE IN WONDERLAND (Part 1) - FRED WARING AND HIS PENNSYLVANIANS.mp3",
  "audio/music/alice/02 - ALICE IN WONDERLAND ( - FRED WARING AND HIS PENNSYLVANIANS.mp3",
  "audio/music/alice/03 - ALICE IN WONDERLAND (Part 2) - FRED WARING AND HIS PENNSYLVANIANS.mp3",
  "audio/music/alice/04 - ALICE IN WONDERLAND-Part 3 - FRED WARING AND HIS PENNSYLVANIANS.mp3",
];

// Function to play a random sound from a specific mode with a fixed delay
function playRandomSound(mode) {
  // Add a fixed delay of 2000 milliseconds (2 seconds) before playing the audio
  const delay = 550;

  setTimeout(() => {
    // Determine the active mode
    const activeMode = getActiveMode();

    // Check if the active mode matches the mode parameter
    if (activeMode === mode) {
      // Get a random audio file from the corresponding array
      const audioFiles =
        mode === "hpM"
          ? hpAudioFiles
          : mode === "dogM"
          ? dogAudioFiles
          : mode === "mvM"
          ? movieAudioFiles
          : mode === "rickAndMortyM"
          ? rickMAudioFiles
          : mode === "lionKingM"
          ? lionKingFiles
          : mode === "aladdinM"
          ? aladdinFiles
          : mode === "jungleM"
          ? jungleBookFiles
          : mode === "aliceM"
          ? aliceInFiles
          : [];

      if (audioFiles.length > 0) {
        const randomAudioFile =
          audioFiles[Math.floor(Math.random() * audioFiles.length)];
        const audio = new Audio(randomAudioFile);

        audio
          .play()
          .then(() => {
            console.log(`Audio playing successfully in mode ${mode}`);
          })
          .catch((error) => {
            console.error(`Failed to play audio in mode ${mode}:`, error);
          });
      }
    }
  }, delay);
}

let audio; // Declare the audio variable here
let audioFiles; // Declare the array of audio files here
let currentAudioIndex = 0; // Keep track of the current audio index

function playBackgroundSound(mode) {
  // Determine the active mode
  const activeMode = getActiveMode();

  // Check if the active mode matches the mode parameter
  if (activeMode === mode) {
    // Get the array of audio files for the mode
    audioFiles =
      mode === "hpM"
        ? hpAudioMusic
        : mode === "dogM"
        ? dogAudioMusic
        : mode === "mvM"
        ? movieAudioMusic
        : mode === "rickAndMortyM"
        ? rickMAudioMusic
        : mode === "lionKingM"
        ? lionKingMusic
        : mode === "aladdinM"
        ? aladdinMusic
        : mode === "jungleM"
        ? jungleBMusic
        : mode === "aliceM"
        ? aliceInMusic
        : [];

    if (audioFiles.length > 0) {
      // Create a new Audio element for the current audio index
      audio = new Audio(audioFiles[currentAudioIndex]);

      // Listen for the "ended" event to play the next song in the queue
      audio.addEventListener("ended", function () {
        currentAudioIndex = (currentAudioIndex + 1) % audioFiles.length;
        audio.src = audioFiles[currentAudioIndex];
        audio.play().then(() => {
          console.log(`Audio playing successfully in mode ${mode}`);
        });
      });

      // Start playing the first audio
      audio.play().then(() => {
        console.log(`Audio playing successfully in mode ${mode}`);
      });
    }
  }
  return audio; // Return the audio variable
}

document.addEventListener("DOMContentLoaded", function () {
  const playPauseButton = document.getElementById("playPause");
  const nextButton = document.getElementById("next");
  let isPlaying = false;
  let activeMode; // Variable to store the active mode
  // let audio; // Reference to the audio element

  playPauseButton.addEventListener("click", function () {
    if (isPlaying) {
      if (audio) {
        audio.pause(); // Pause the audio
      }
    } else {
      activeMode = getActiveMode(); // Determine the active mode
      if (activeMode) {
        audio = playBackgroundSound(activeMode); // Start playing audio based on the active mode and store the audio element
      }
    }

    nextButton.addEventListener("click", function () {
      // Call a function to play the next song
      playNextSong();
    });

    isPlaying = !isPlaying;

    if (isPlaying) {
      playPauseButton.innerHTML = "<b>◻︎</b>"; // Display pause icon
    } else {
      playPauseButton.innerHTML = "<b>◁</b>"; // Display play icon
    }
  });

  nextButton.addEventListener("click", function () {
    // Stop the currently playing audio
    if (isPlaying) {
      audio.pause();
    }
    // Play the next song in the active mode
    activeMode = getActiveMode();
    if (activeMode) {
      audio = playBackgroundSound(activeMode);
    }
    isPlaying = true;
    playPauseButton.innerHTML = "<b>◻︎</b>"; // Display pause icon since a new song is playing
  });
});

function playNextSong() {
  if (audio) {
    // Pause the currently playing song
    audio.pause();

    // Move to the next song in the playlist
    currentAudioIndex = (currentAudioIndex + 1) % audioFiles.length;
    audio.src = audioFiles[currentAudioIndex];

    // Play the next song
    audio.play().then(() => {
      console.log(`Audio playing successfully in mode ${activeMode}`);
    });
  }
}

// Function that Clicks => PLAY (MUSIC).
function clickPlayButton() {
  const playPauseButton = document.getElementById("playPause");

  if (playPauseButton) {
    playPauseButton.click(); // Simulate a click on the play button
  } else {
    console.error("Play button not found.");
  }
}

// Function that Clicks => STOP (MUSIC).
function clickStopButton() {
  const playPauseButton = document.getElementById("playPause");

  if (playPauseButton && playPauseButton.innerHTML === "<b>◻︎</b>") {
    playPauseButton.click(); // Simulate a click on the play/pause button to stop the music
  } else {
    console.error(
      "Unable to stop the music because it's not currently playing."
    );
  }
}

// Function to determine the active mode
function getActiveMode() {
  if (hpM) {
    return "hpM";
  } else if (dogM) {
    return "dogM";
  } else if (mvM) {
    return "mvM";
  } else if (rickAndMortyM) {
    return "rickAndMortyM";
  } else if (lionKingM) {
    return "lionKingM";
  } else if (aladdinM) {
    return "aladdinM";
  } else if (jungleM) {
    return "jungleM";
  } else if (aliceM) {
    return "aliceM";
  }
  // Return an appropriate default mode if none is active
  return "defaultMode";
}

// Call the function to play a random sound in the active mode

// Example usage: Call fetchAudioFiles when you need to load the audio file list.
